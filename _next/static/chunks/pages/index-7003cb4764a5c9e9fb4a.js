(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{2562:function(n,e,r){"use strict";r.r(e);var t=r(7294),o=r(9163),i=r(5893),c=["aqua","yellow","purple","blue","orange","green","red"],a=o.ZP.div.withConfig({displayName:"pages__Container",componentId:"sc-eccczk-0"})(["display:flex;align-items:center;justify-content:center;height:100vh;background-color:#008080;"]),u=o.ZP.div.withConfig({displayName:"pages__Board",componentId:"sc-eccczk-1"})(["display:flex;flex-direction:row;align-items:flex-end;justify-content:space-around;width:80vh;height:96vh;background-color:#ccc;border:0.8vh solid;border-color:#ddd #666 #666 #ddd;"]),l=o.ZP.div.withConfig({displayName:"pages__GameBoard",componentId:"sc-eccczk-2"})(["width:42vh;height:82vh;margin-bottom:2vh;background-color:black;border:1vh solid;border-color:#666 #ddd #ddd #666;"]),s=o.ZP.div.withConfig({displayName:"pages__TetrominoSquare",componentId:"sc-eccczk-3"})(["display:inline-block;width:4vh;height:4vh;vertical-align:bottom;background-color:",";border:0.005vh solid #999;"],(function(n){return 1<=n.num&&n.num<=7?c[n.num-1]:9===n.num?"#777":"#111"})),d=o.ZP.div.withConfig({displayName:"pages__StateBoard",componentId:"sc-eccczk-4"})(["display:flex;align-items:center;justify-content:center;width:30vh;height:90vh;margin-bottom:2vh;background-color:#aaa;border:1vh solid #666;"]),f=o.ZP.div.withConfig({displayName:"pages__NextTetrominoView",componentId:"sc-eccczk-5"})(["display:inline-block;width:18vh;height:18vh;background-color:black;border:1vh solid black;"]);e.default=function(){var n=[[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,9,9,9,9,9,9,9,9,9,9,9]],e=n[0].length,r=n.length,o=[[[0,0,0,0],[1,1,1,1],[0,0,0,0]],[[2,2],[2,2]],[[0,3,0],[3,3,3],[0,0,0]],[[4,0,0],[4,4,4],[0,0,0]],[[0,0,5],[5,5,5],[0,0,0]],[[0,0,0],[0,6,6],[6,6,0]],[[0,0,0],[7,7,0],[0,7,7]]],c=function(){return o[Math.floor(Math.random()*o.length)]},h=(0,t.useState)(n),g=h[0],m=h[1],v=(0,t.useState)(Array.from(new Array(4),(function(){return new Array(4).fill(0)}))),p=v[0],w=v[1],b=(0,t.useState)(c()),k=b[0],y=b[1],_=(0,t.useState)(c()),N=_[0],S=_[1],x=(0,t.useState)(1),A=x[0],C=x[1],j=(0,t.useState)(0),E=j[0],O=j[1],P=(0,t.useState)(!1),T=P[0],z=P[1],I=(0,t.useState)(!0),Z=I[0],L=I[1],B=(0,t.useState)(0),J=B[0],M=B[1],q=function(){for(var n=JSON.parse(JSON.stringify(g)),e=0;e<k.length;e++)for(var r=0;r<k[e].length;r++)k[e][r]&&(n[e+E][r+A]=k[e][r]);return n},D=function(n,t,o){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(i&&r<t+o.length)return!1;if(n<0||e<n+o[0].length)return!1;for(var c=JSON.parse(JSON.stringify(g)),a=0;a<o.length;a++)for(var u=0;u<o[a].length;u++)if(o[a][u]>0&&c[a+t][u+n]>0)return!1;return!0},R=(0,t.useMemo)((function(){return q().slice(3,r).map((function(n){return n.filter((function(n){return 9!==n}))}))}),[A,E,k]),X=(0,t.useCallback)((function(){for(var n=Array.from(new Array(4),(function(){return new Array(4).fill(0)})),e=0;e<N.length;e++)for(var r=0;r<N[e].length;r++)n[e][r]=N[e][r];w(n)}),[N]),G=(0,t.useCallback)((function(n){var e;if(Z)switch(n.key){case"ArrowUp":if(J>1)return;console.log("CALL");var r=(e=k)[0].map((function(n,r){return e.map((function(n){return n[r]})).reverse()}));D(A,E,r,!0)&&(y(r),console.log("ROTATE"));break;case"ArrowDown":for(var t=E;D(A,t+1,k,!0);)t++;O(t),M(99);break;case"ArrowRight":C((function(n){return D(n+1,E,k)?n+1:n}));break;case"ArrowLeft":C((function(n){return D(n-1,E,k)?n-1:n}))}}),[k,A,E,Z]);(0,t.useEffect)((function(){return document.addEventListener("keydown",G,!1),D(A,E,k)||(console.log("BACK"),y(k[0].map((function(n,e){return k.map((function(n){return n[e]}))})).reverse())),function(){document.removeEventListener("keydown",G,!1)}}),[k,A,E,Z]);return(0,t.useEffect)((function(){Z?(X(),D(A,E+1,k,!0)?(O(E+1),console.log("DOWN"),M(0)):J>1?(M(0),L(!1)):M((function(n){return n+1})),setTimeout((function(){z(!T)}),300)):(m(q()),y(N),S(c()),C(1),O(0),L(!0),z(!T))}),[T]),(0,i.jsx)(a,{children:(0,i.jsxs)(u,{children:[(0,i.jsx)(l,{children:R.map((function(n,e){return n.map((function(n,r){return(0,i.jsx)(s,{num:n},"".concat(r,"-").concat(e))}))}))}),(0,i.jsx)(d,{children:(0,i.jsx)(f,{children:p.map((function(n,e){return n.map((function(n,r){return(0,i.jsx)(s,{num:n},"".concat(r,"-").concat(e))}))}))})})]})})}},5301:function(n,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(2562)}])}},function(n){n.O(0,[163,774,888,179],(function(){return e=5301,n(n.s=e);var e}));var e=n.O();_N_E=e}]);