(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{2562:function(e,n,t){"use strict";t.r(n);var r=t(2809),i=t(9008),o=t(7294),c=t(9163),a=t(5893);function d(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function h(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?d(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var s=["aqua","yellow","purple","blue","orange","green","red"],l=c.ZP.div.withConfig({displayName:"pages__Container",componentId:"sc-eccczk-0"})(["display:flex;align-items:center;justify-content:center;height:100vh;background-color:#008080;"]),u=c.ZP.div.withConfig({displayName:"pages__Board",componentId:"sc-eccczk-1"})(["display:flex;flex-direction:row;align-items:flex-end;justify-content:space-around;background-color:#ccc;border:0.8vh solid;border-color:#ddd #666 #666 #ddd;@media screen and (max-width:650px){width:40vh;height:48vh;}@media screen and (min-width:651px){width:74vh;height:88vh;}"]),f=c.ZP.div.withConfig({displayName:"pages__GameBoard",componentId:"sc-eccczk-2"})(["margin-bottom:2vh;font-size:0;background-color:black;border:1vh solid;border-color:#666 #ddd #ddd #666;@media screen and (max-width:650px){width:22vh;height:42vh;}@media screen and (min-width:651px){width:42vh;height:82vh;}"]),m=c.ZP.div.withConfig({displayName:"pages__TetrominoBlock",componentId:"sc-eccczk-3"})(["display:inline-block;vertical-align:bottom;background-color:",";@media screen and (max-width:650px){width:2vh;height:2vh;",";}@media screen and (min-width:651px){width:4vh;height:4vh;",";}"],(function(e){return 1<=e.num&&e.num<=7?s[e.num-1]:"#111"}),(function(e){return 1<=e.num&&e.num<=7?"border: 0.2vh solid; border-color: #ddd #666 #666 #ddd;":""}),(function(e){return 1<=e.num&&e.num<=7?"border: 0.3vh solid; border-color: #ddd #666 #666 #ddd;":""})),g=c.ZP.div.withConfig({displayName:"pages__StateBoard",componentId:"sc-eccczk-4"})(["display:flex;flex-direction:column;align-items:center;margin-bottom:2vh;font-size:0;background-color:#bbb;border:0.5vh solid #666;@media screen and (max-width:650px){width:12vh;height:42vh;}@media screen and (min-width:651px){width:24vh;height:82vh;}"]),p=c.ZP.div.withConfig({displayName:"pages__TextArea",componentId:"sc-eccczk-5"})(["display:flex;width:20vh;margin-top:2vh;font-size:3vh;@media screen and (max-width:650px){width:10vh;font-size:1.5vh;}@media screen and (min-width:651px){width:20vh;font-size:3vh;}"]),v=(0,c.ZP)(p).withConfig({displayName:"pages__GameoverTextArea",componentId:"sc-eccczk-6"})(["justify-content:center;font-weight:bold;@media screen and (max-width:650px){font-size:1.7vh;}@media screen and (min-width:651px){font-size:3.4vh;}"]),b=c.ZP.div.withConfig({displayName:"pages__NextTetrominoView",componentId:"sc-eccczk-7"})(["display:inline-block;background-color:black;@media screen and (max-width:650px){width:10vh;height:10vh;border:1vh solid black;}@media screen and (min-width:651px){width:20vh;height:20vh;border:2vh solid black;}"]);n.default=function(){var e=[[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,9,9,9,9,9,9,9,9,9,9,9]],n=e[0].length,t=e.length,r=Array.from(new Array(4),(function(){return new Array(4).fill(0)})),c=[[[[0,0,0,0],[1,1,1,1]],[[0,1],[0,1],[0,1],[0,1]],[[0,0,0,0],[1,1,1,1]],[[0,1],[0,1],[0,1],[0,1]]],[[[0,2,2],[0,2,2]],[[0,2,2],[0,2,2]],[[0,2,2],[0,2,2]],[[0,2,2],[0,2,2]]],[[[0,3,0],[3,3,3],[0,0,0]],[[0,3,0],[0,3,3],[0,3,0]],[[0,0,0],[3,3,3],[0,3,0]],[[0,3,0],[3,3,0],[0,3,0]]],[[[4,0,0],[4,4,4],[0,0,0]],[[0,4,4],[0,4,0],[0,4,0]],[[0,0,0],[4,4,4],[0,0,4]],[[0,0,4],[0,0,4],[0,4,4]]],[[[0,0,5],[5,5,5],[0,0,0]],[[0,5,0],[0,5,0],[0,5,5]],[[0,0,0],[5,5,5],[5,0,0]],[[5,5,0],[0,5,0],[0,5,0]]],[[[0,6,6],[6,6,0],[0,0,0]],[[6,0,0],[6,6,0],[0,6,0]],[[0,6,6],[6,6,0],[0,0,0]],[[6,0,0],[6,6,0],[0,6,0]]],[[[7,7,0],[0,7,7],[0,0,0]],[[0,7,0],[7,7,0],[7,0,0]],[[7,7,0],[0,7,7],[0,0,0]],[[0,7,0],[7,7,0],[7,0,0]]]],d=function(){return{block:c[Math.floor(Math.random()*c.length)],angle:0}},s=(0,o.useState)(e),w=s[0],x=s[1],k=(0,o.useState)(r),y=k[0],_=k[1],j=(0,o.useState)(d()),O=j[0],N=j[1],P=(0,o.useState)(d()),S=P[0],z=P[1],C=(0,o.useState)(4),E=C[0],A=C[1],Z=(0,o.useState)(1),I=Z[0],T=Z[1],D=(0,o.useState)(!1),B=D[0],J=D[1],M=(0,o.useState)(0),G=M[0],L=M[1],R=(0,o.useState)(!0),V=R[0],X=R[1],q=(0,o.useState)(!1),F=q[0],U=q[1],H=(0,o.useState)(0),K=H[0],Q=H[1],W=function(){for(var e=JSON.parse(JSON.stringify(w)),n=O.block[O.angle],t=0;t<n.length;t++)for(var r=0;r<n[t].length;r++)n[t][r]&&(e[t+I][r+E]=n[t][r]);return e},Y=(0,o.useMemo)((function(){return W().slice(4,t).map((function(e){return e.filter((function(e){return 9!==e}))}))}),[E,I,O]),$=(0,o.useCallback)((function(){for(var e=r,n=S.block[S.angle],t=0;t<n.length;t++)for(var i=0;i<n[t].length;i++)e[t][i]=n[t][i];_(e)}),[S]),ee=function(e,r,i){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(o&&t<r+i.length)return!1;if(e<0||n<e+i[0].length)return!1;for(var c=JSON.parse(JSON.stringify(w)),a=0;a<i.length;a++)for(var d=0;d<i[a].length;d++)if(i[a][d]>0&&c[a+r][d+e]>0)return!1;return!0},ne=(0,o.useCallback)((function(e){switch(e.key){case"ArrowUp":if(G>1)return;var n=(r=O.angle)<3?r+1:0;ee(E,I,O.block[n],!0)&&N(h(h({},O),{},{angle:n}));break;case"ArrowDown":for(var t=I;ee(E,t+1,O.block[O.angle],!0);)t++;T(t),L(99);break;case"ArrowRight":A((function(e){return ee(e+1,I,O.block[O.angle])?e+1:e}));break;case"ArrowLeft":A((function(e){return ee(e-1,I,O.block[O.angle])?e-1:e}))}var r}),[O,E,I]);(0,o.useEffect)((function(){var e;if(V&&!F)return document.addEventListener("keydown",ne,!1),ee(E,I,O.block[O.angle])||N(h(h({},O),{},{angle:(e=O.angle,0<e?e-1:3)})),function(){document.removeEventListener("keydown",ne,!1)}}),[O,E,I,V,F]);return(0,o.useEffect)((function(){F||(V?($(),ee(E,I+1,O.block[O.angle],!0)?(T(I+1),L(0)):G>1?(L(0),X(!1)):L((function(e){return e+1})),setTimeout((function(){J(!B)}),300)):(!function(){for(var e=W(),n=[],t=0;t<e.length;t++)e[t].every((function(e){return e>0}))&&!e[t].every((function(e){return 9===e}))?(Q((function(e){return e+1})),n.unshift([9,0,0,0,0,0,0,0,0,0,0,9])):n.push(e[t]);(!ee(4,1,S.block[0])||I<3)&&U(!0),x(n),N(S),A(4),T(1),z(d())}(),X(!0),J(!B)))}),[B]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.default,{children:(0,a.jsx)("title",{children:"Pseudo-Tetris "})}),(0,a.jsx)(l,{children:(0,a.jsxs)(u,{children:[(0,a.jsx)(f,{children:Y.map((function(e,n){return e.map((function(e,t){return(0,a.jsx)(m,{num:e},"".concat(t,"-").concat(n))}))}))}),(0,a.jsxs)(g,{children:[(0,a.jsx)(p,{children:"Next:"}),(0,a.jsx)(b,{children:y.map((function(e,n){return e.map((function(e,t){return(0,a.jsx)(m,{num:e},"".concat(t,"-").concat(n))}))}))}),(0,a.jsxs)(p,{children:["Score: ",K]}),(0,a.jsx)(v,{children:F?"GAME OVER":""})]})]})})]})}},5301:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(2562)}])}},function(e){e.O(0,[90,774,888,179],(function(){return n=5301,e(e.s=n);var n}));var n=e.O();_N_E=n}]);