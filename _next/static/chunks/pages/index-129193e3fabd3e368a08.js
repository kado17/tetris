(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{2562:function(e,n,t){"use strict";t.r(n);var r=t(7294),o=t(9163),i=t(5893),c=["aqua","yellow","purple","blue","orange","green","red"],a=o.ZP.div.withConfig({displayName:"pages__Container",componentId:"sc-eccczk-0"})(["display:flex;align-items:center;justify-content:center;height:100vh;background-color:#008080;"]),u=o.ZP.div.withConfig({displayName:"pages__Board",componentId:"sc-eccczk-1"})(["display:flex;flex-direction:row;align-items:flex-end;justify-content:space-around;width:80vh;height:96vh;background-color:#ccc;border:0.8vh solid;border-color:#ddd #666 #666 #ddd;"]),d=o.ZP.div.withConfig({displayName:"pages__GameBoard",componentId:"sc-eccczk-2"})(["width:42vh;height:82vh;margin-bottom:2vh;background-color:#888;border:1vh solid;border-color:#666 #ddd #ddd #666;"]),s=o.ZP.div.withConfig({displayName:"pages__StateBoard",componentId:"sc-eccczk-3"})(["width:30vh;height:90vh;margin-bottom:2vh;background-color:#aaa;border:1vh solid #666;"]),f=o.ZP.div.withConfig({displayName:"pages__TetrominoSquare",componentId:"sc-eccczk-4"})(["display:inline-block;width:4vh;height:4vh;vertical-align:bottom;background-color:",";border:0.05vh solid #999;"],(function(e){return 1<=e.num&&e.num<=7?c[e.num-1]:9===e.num?"#777":"#111"}));n.default=function(){var e=[[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,9,9,9,9,9,9,9,9,9,9,9]],n=e[0].length,t=e.length,o=[[[0,0,0,0],[1,1,1,1],[0,0,0,0]],[[2,2],[2,2]],[[0,3,0],[3,3,3],[0,0,0]],[[4,0,0],[4,4,4],[0,0,0]],[[0,0,5],[5,5,5],[0,0,0]],[[0,0,5],[5,5,5],[0,0,0]],[[0,6,6],[6,6,0],[0,0,0]],[[7,7,0],[0,7,7],[0,0,0]]],c=function(){return o[Math.floor(Math.random()*o.length)]},l=(0,r.useState)(e),h=l[0],g=l[1],v=(0,r.useState)(c()),m=v[0],p=v[1],w=(0,r.useState)(1),b=w[0],k=w[1],_=(0,r.useState)(0),y=_[0],N=_[1],S=(0,r.useState)(!1),x=S[0],C=S[1],E=(0,r.useState)(!0),j=E[0],O=E[1],P=(0,r.useState)(0),z=P[0],I=P[1],Z=function(){for(var e=JSON.parse(JSON.stringify(h)),n=0;n<m.length;n++)for(var t=0;t<m[n].length;t++)m[n][t]&&(e[n+y][t+b]=m[n][t]);return e},A=function(e,r,o){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(i&&t<y+o.length)return!1;if(e<0||n<e+o[0].length)return!1;for(var c=JSON.parse(JSON.stringify(h)),a=0;a<o.length;a++)for(var u=0;u<o[a].length;u++)if(o[a][u]>0&&c[a+r][u+e]>0)return!1;return!0},J=(0,r.useMemo)((function(){return Z().slice(2,t).map((function(e){return e.filter((function(e){return 9!==e}))}))}),[b,y,m]),T=(0,r.useCallback)((function(e){var n;if(j)switch(e.key){case"ArrowUp":var t=(n=m)[0].map((function(e,t){return n.map((function(e){return e[t]})).reverse()}));A(b,y,t,!0)&&p(t);break;case"ArrowDown":console.log("DOWN");for(var r=y;A(b,r+1,m,!0);)r++;N(r);break;case"ArrowRight":k((function(e){return A(e+1,y,m)?e+1:e}));break;case"ArrowLeft":k((function(e){return A(e-1,y,m)?e-1:e}))}}),[y,m,j]);return(0,r.useEffect)((function(){return document.addEventListener("keydown",T,!1),function(){document.removeEventListener("keydown",T,!1)}}),[y,m,j]),(0,r.useEffect)((function(){j?(A(b,y+1,m,!0)?(N(y+1),I(0)):z>1?(I(0),O(!1)):I((function(e){return e+1})),setTimeout((function(){C(!x)}),500)):(g(Z()),p(c()),k(1),N(0),O(!0),C(!x))}),[x]),(0,i.jsx)(a,{children:(0,i.jsxs)(u,{children:[(0,i.jsx)(d,{children:J.map((function(e,n){return e.map((function(e,t){return(0,i.jsx)(f,{num:e},"".concat(t,"-").concat(n))}))}))}),(0,i.jsx)(s,{})]})})}},5301:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(2562)}])}},function(e){e.O(0,[163,774,888,179],(function(){return n=5301,e(e.s=n);var n}));var n=e.O();_N_E=n}]);