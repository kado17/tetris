(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{2562:function(e,n,t){"use strict";t.r(n);var i=t(4942),r=t(9008),o=t(7294),a=t(2788),c=t(5893);function d(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?d(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var h=["aqua","yellow","purple","blue","orange","green","red"],l=[["","images/cached.svg",""],["images/arrow_back.svg","images/arrow_downward.svg","images/arrow_forward.svg"]],u=a.ZP.div.withConfig({displayName:"pages__Container",componentId:"sc-eccczk-0"})(["display:flex;align-items:center;justify-content:center;height:100vh;background-image:url('images/background.png');"]),g=a.ZP.div.withConfig({displayName:"pages__Board",componentId:"sc-eccczk-1"})(["display:flex;flex-direction:row;justify-content:space-around;background-color:lightgray;border:0.8vh solid;border-color:#ddd #666 #666 #ddd;@media screen and (max-width:860px){width:54vh;height:48vh;}@media screen and (min-width:861px){width:100vh;height:88vh;}"]),p=a.ZP.div.withConfig({displayName:"pages__GameBoard",componentId:"sc-eccczk-2"})(["margin-top:2vh;font-size:0;background-color:black;border:1vh solid;border-color:#666 #ddd #ddd #666;@media screen and (max-width:860px){width:22vh;height:42vh;}@media screen and (min-width:861px){width:42vh;height:82vh;}"]),m=a.ZP.div.withConfig({displayName:"pages__TetrominoBlock",componentId:"sc-eccczk-3"})(["display:inline-block;vertical-align:bottom;background-color:",";@media screen and (max-width:860px){width:2vh;height:2vh;",";}@media screen and (min-width:861px){width:4vh;height:4vh;",";}"],(function(e){return 1<=e.num&&e.num<=7?h[e.num-1]:"#111"}),(function(e){return 1<=e.num&&e.num<=7?"border: 0.5px solid; border-color: #ddd #666 #666 #ddd;":""}),(function(e){return 1<=e.num&&e.num<=7?"border: 1px solid; border-color: #ddd #666 #666 #ddd;":""})),f=a.ZP.div.withConfig({displayName:"pages__SideArea",componentId:"sc-eccczk-4"})(["display:flex;flex-direction:column;align-items:center;margin-top:2vh;font-size:0;"]),v=a.ZP.div.withConfig({displayName:"pages__NextTetorominoArea",componentId:"sc-eccczk-5"})(["display:flex;flex-direction:column;align-items:center;font-size:0;background-color:powderblue;@media screen and (max-width:860px){width:13vh;height:14vh;margin:1vh 0 13vh;border:0.4vh solid #666;}@media screen and (min-width:861px){width:25vh;height:30vh;margin:1vh 0 25vh;border:0.5vh solid #666;}"]),w=a.ZP.div.withConfig({displayName:"pages__NextTetorominoText",componentId:"sc-eccczk-6"})(["display:flex;text-align:left;@media screen and (max-width:860px){width:10vh;margin:0.3vh 0;font-size:1.5vh;}@media screen and (min-width:861px){width:20vh;margin:1vh 0;font-size:3.4vh;}"]),b=a.ZP.div.withConfig({displayName:"pages__NextTetrominoView",componentId:"sc-eccczk-7"})(["display:inline-block;background-color:black;@media screen and (max-width:860px){width:10vh;height:10vh;border:1vh solid black;}@media screen and (min-width:861px){width:20vh;height:20vh;border:2vh solid black;}"]),x=(0,a.ZP)(w).withConfig({displayName:"pages__ScoreTextArea",componentId:"sc-eccczk-8"})(["display:flex;justify-content:center;text-align:left;background-color:powderblue;@media screen and (max-width:860px){width:12vh;padding:1vh;margin-bottom:2vh;border:0.4vh solid #666;}@media screen and (min-width:861px){width:24vh;padding:2vh;margin-bottom:3vh;border:0.5vh solid #666;}"]),k=(0,a.ZP)(x).withConfig({displayName:"pages__GameStateTextArea",componentId:"sc-eccczk-9"})(["font-weight:bold;"]),y=a.ZP.div.withConfig({displayName:"pages__ButtonTemplate",componentId:"sc-eccczk-10"})(["color:#111;text-align:center;cursor:pointer;@media screen and (max-width:860px){font-size:1.5vh;}@media screen and (min-width:861px){font-size:3.4vh;}"]),_=(0,a.ZP)(y).withConfig({displayName:"pages__StartButton",componentId:"sc-eccczk-11"})(["background-color:#aaa;border-radius:4px;@media screen and (max-width:860px){width:10vh;height:4vh;margin-top:16vh;line-height:3.5vh;border:0.2vh solid #666;}@media screen and (min-width:861px){width:22vh;height:8vh;margin-top:32.5vh;line-height:6.75vh;border:0.3vh solid #666;}&:hover{opacity:0.7;transition:0.1s;}"]),j=a.ZP.div.withConfig({displayName:"pages__Controller",componentId:"sc-eccczk-12"})(["vertical-align:bottom;background-color:clear;@media screen and (max-width:860px){width:13vh;height:12.75vh;padding:0.1vh;border:0.4vh solid #666;}@media screen and (min-width:861px){width:26vh;height:25vh;padding:0.5vh;border:0.5vh solid #666;}"]),P=(0,a.ZP)(y).withConfig({displayName:"pages__PauseButton",componentId:"sc-eccczk-13"})(["color:black;background-color:#999;@media screen and (max-width:860px){width:12vh;height:3vh;margin-bottom:0.5vh;line-height:2vh;border:0.3vh solid lightgray;}@media screen and (min-width:861px){width:24vh;height:6vh;margin-bottom:1vh;line-height:4.5vh;border:0.5vh solid lightgray;}&:hover{opacity:0.8;transition:0.1s;}"]),z=a.ZP.img.withConfig({displayName:"pages__ArrowButton",componentId:"sc-eccczk-14"})(["display:inline-block;text-align:center;vertical-align:top;cursor:pointer;"," @media screen and (max-width:860px){width:4vh;height:4vh;","}@media screen and (min-width:861px){width:8vh;height:8vh;","}&:hover{opacity:0.8;transition:0.1s;}"],(function(e){return""===e.c?"visibility:hidden;":"background-color: #999;"}),(function(e){return""===e.c?"":"border: 0.3vh solid lightgray;"}),(function(e){return""===e.c?"":"border: 0.5vh solid lightgray;"})),C=a.ZP.div.withConfig({displayName:"pages__OpenManualButton",componentId:"sc-eccczk-15"})(["position:fixed;top:15px;right:15px;padding:15px 20px;font-family:bold;color:#fff;cursor:pointer;background-color:black;border-radius:20%;&:hover{opacity:0.8;transition:0.1s;}"]),N=a.ZP.div.withConfig({displayName:"pages__Overlay",componentId:"sc-eccczk-16"})(["position:fixed;top:0;left:0;z-index:1;display:none;align-items:center;justify-content:center;width:100%;height:100%;background-color:rgb(0 0 0 / 70%);",""],(function(e){return e.isOpen?"display:block;":""})),S=a.ZP.div.withConfig({displayName:"pages__Modal",componentId:"sc-eccczk-17"})(["position:absolute;top:10%;right:10%;z-index:2;display:flex;width:80%;height:80%;background-color:#fff;border-radius:10px;"]),O=a.ZP.img.withConfig({displayName:"pages__Manual",componentId:"sc-eccczk-18"})(["position:absolute;top:50%;left:50%;z-index:3;width:80%;cursor:pointer;border:2px solid black;transform:translateY(-50%) translateX(-50%);&:hover{opacity:0.8;transition:0.1s;}"]),Z=a.ZP.div.withConfig({displayName:"pages__CloseButton",componentId:"sc-eccczk-19"})(["position:absolute;top:10px;right:20px;z-index:3;font-size:200%;font-weight:bold;cursor:pointer;&:hover{opacity:0.8;transition:0.1s;}"]);n.default=function(){var e=[[9,9,0,0,0,0,0,0,0,0,0,0,9],[9,9,0,0,0,0,0,0,0,0,0,0,9],[9,9,0,0,0,0,0,0,0,0,0,0,9],[9,9,0,0,0,0,0,0,0,0,0,0,9],[9,9,0,0,0,0,0,0,0,0,0,0,9],[9,9,0,0,0,0,0,0,0,0,0,0,9],[9,9,0,0,0,0,0,0,0,0,0,0,9],[9,9,0,0,0,0,0,0,0,0,0,0,9],[9,9,0,0,0,0,0,0,0,0,0,0,9],[9,9,0,0,0,0,0,0,0,0,0,0,9],[9,9,0,0,0,0,0,0,0,0,0,0,9],[9,9,0,0,0,0,0,0,0,0,0,0,9],[9,9,0,0,0,0,0,0,0,0,0,0,9],[9,9,0,0,0,0,0,0,0,0,0,0,9],[9,9,0,0,0,0,0,0,0,0,0,0,9],[9,9,0,0,0,0,0,0,0,0,0,0,9],[9,9,0,0,0,0,0,0,0,0,0,0,9],[9,9,0,0,0,0,0,0,0,0,0,0,9],[9,9,0,0,0,0,0,0,0,0,0,0,9],[9,9,0,0,0,0,0,0,0,0,0,0,9],[9,9,0,0,0,0,0,0,0,0,0,0,9],[9,9,0,0,0,0,0,0,0,0,0,0,9],[9,9,0,0,0,0,0,0,0,0,0,0,9],[9,9,0,0,0,0,0,0,0,0,0,0,9],[9,9,9,9,9,9,9,9,9,9,9,9,9]],n=e[0].length,t=e.length,i=Array.from(new Array(4),(function(){return new Array(4).fill(0)})),a=[[[[0,0,0,0],[1,1,1,1]],[[0,0,1],[0,0,1],[0,0,1],[0,0,1]],[[0,0,0,0],[0,0,0,0],[1,1,1,1]],[[0,1],[0,1],[0,1],[0,1]]],[[[0,2,2],[0,2,2]],[[0,2,2],[0,2,2]],[[0,2,2],[0,2,2]],[[0,2,2],[0,2,2]]],[[[0,3,0],[3,3,3],[0,0,0]],[[0,3,0],[0,3,3],[0,3,0]],[[0,0,0],[3,3,3],[0,3,0]],[[0,3,0],[3,3,0],[0,3,0]]],[[[4,0,0],[4,4,4],[0,0,0]],[[0,4,4],[0,4,0],[0,4,0]],[[0,0,0],[4,4,4],[0,0,4]],[[0,0,4],[0,0,4],[0,4,4]]],[[[0,0,5],[5,5,5],[0,0,0]],[[0,5,0],[0,5,0],[0,5,5]],[[0,0,0],[5,5,5],[5,0,0]],[[5,5,0],[0,5,0],[0,5,0]]],[[[0,6,6],[6,6,0],[0,0,0]],[[6,0,0],[6,6,0],[0,6,0]],[[0,6,6],[6,6,0],[0,0,0]],[[6,0,0],[6,6,0],[0,6,0]]],[[[7,7,0],[0,7,7],[0,0,0]],[[0,7,0],[7,7,0],[7,0,0]],[[7,7,0],[0,7,7],[0,0,0]],[[0,7,0],[7,7,0],[7,0,0]]]],d=function(){return{block:a[Math.floor(Math.random()*a.length)],angle:0}},h=(0,o.useState)(e),y=h[0],I=h[1],A=(0,o.useState)(i),E=A[0],T=A[1],B=(0,o.useState)(d()),M=B[0],D=B[1],G=(0,o.useState)(d()),X=G[0],J=G[1],L=(0,o.useState)(5),R=L[0],U=L[1],V=(0,o.useState)(2),q=V[0],F=V[1],Y=(0,o.useState)(!1),H=Y[0],K=Y[1],Q=(0,o.useState)(0),W=Q[0],$=Q[1],ee=(0,o.useState)(!0),ne=ee[0],te=ee[1],ie=(0,o.useState)(!1),re=ie[0],oe=ie[1],ae=(0,o.useState)(!1),ce=ae[0],de=ae[1],se=(0,o.useState)(!1),he=se[0],le=se[1],ue=(0,o.useState)(0),ge=ue[0],pe=ue[1],me=(0,o.useState)(!1),fe=me[0],ve=me[1],we=function(){for(var e=JSON.parse(JSON.stringify(y)),n=M.block[M.angle],t=0;t<n.length;t++)for(var i=0;i<n[t].length;i++)n[t][i]&&(e[t+q][i+R]=n[t][i]);return e},be=(0,o.useMemo)((function(){return we().slice(4,t).map((function(e){return e.filter((function(e){return 9!==e}))}))}),[M,R,q]),xe=(0,o.useCallback)((function(){for(var e=i,n=X.block[X.angle],t=0;t<n.length;t++)for(var r=0;r<n[t].length;r++)e[t][r]=n[t][r];T(e)}),[X]),ke=function(e,i,r){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:y;if(o&&t<i+r.length)return!1;if(e<0||n<e+r[0].length)return!1;for(var c=JSON.parse(JSON.stringify(a)),d=0;d<r.length;d++)for(var s=0;s<r[d].length;s++)if(r[d][s]>0&&c[d+i][s+e]>0)return!1;return!0},ye=function(){if(!(W>1)){var e,n=0,t=M.block[M.angle],i=(e=M.angle)<3?e+1:0;t.flat().some((function(e){return 1===e}))&&M.angle%2===1?ke(R+1,q,t)?ke(R-1,q,t)||(n=1===M.angle?2:1):n=1===M.angle?-1:-2:t.flat().some((function(e){return 2!==e}))&&(t.map((function(e){return e[0]})).every((function(e){return 0===e}))?ke(R-1,q,t)||(n=1):t.map((function(e){return e.slice(-1)[0]})).every((function(e){return 0===e}))&&(ke(R+1,q,t)||(n=-1))),ke(R+n,q,M.block[i],!0)&&(U((function(e){return e+n})),D(s(s({},M),{},{angle:i})))}},_e=function(){for(var e=q;ke(R,e+1,M.block[M.angle],!0);)e++;F(e)},je=function(){U((function(e){return ke(e+1,q,M.block[M.angle])?e+1:e}))},Pe=function(){U((function(e){return ke(e-1,q,M.block[M.angle])?e-1:e}))},ze=(0,o.useCallback)((function(e){if("x"!==e.key){if(!he)switch(e.key){case"ArrowUp":ye();break;case"ArrowDown":_e();break;case"ArrowRight":je();break;case"ArrowLeft":Pe()}}else Ne()}),[M,R,q,he]);(0,o.useEffect)((function(){var e;if(ne&&re&&!ce)return document.addEventListener("keydown",ze,!1),ke(R,q,M.block[M.angle])||D(s(s({},M),{},{angle:(e=M.angle,0<e?e-1:3)})),function(){document.removeEventListener("keydown",ze,!1)}}),[M,R,q,ne,re,ce,he]);var Ce=function(){var e=Math.floor(ge/5)+1;return e<10?e:10};(0,o.useEffect)((function(){!re||ce||he||(ne?(xe(),ke(R,q+1,M.block[M.angle],!0)?(F(q+1),$(0)):W>1?($(0),te(!1)):$((function(e){return e+1})),setTimeout((function(){K(!H)}),600-50*(Ce()-1))):(te(!0),function(){for(var e=we(),n=[],t=0;t<e.length;t++)e[t].every((function(e){return e>0}))&&!e[t].every((function(e){return 9===e}))?(pe((function(e){return e+1})),n.unshift([9,9,0,0,0,0,0,0,0,0,0,0,9])):n.push(e[t]);!ke(5,2,X.block[0],!1,n)||q<3?de(!0):(D(X),U(5),F(2),J(d())),I(n)}(),K(!H)))}),[H,re,he,ge]);var Ne=function(){re&&le(!he)};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(r.default,{children:(0,c.jsx)("title",{children:"Pseudo-Tetris"})}),(0,c.jsxs)(u,{children:[(0,c.jsx)(C,{onClick:function(){return ve(!0)},children:"Manual"}),(0,c.jsx)(N,{isOpen:fe,children:(0,c.jsxs)(S,{children:[(0,c.jsx)(Z,{onClick:function(){return ve(!1)},children:"\xd7"}),(0,c.jsx)(O,{src:"images/manual.png",loading:"lazy",onClick:function(){return window.open("images/manual.png","_blank","noreferrer")}})]})}),(0,c.jsxs)(g,{children:[(0,c.jsxs)(f,{children:[(0,c.jsxs)(x,{children:["Score : ",ge]}),(0,c.jsxs)(x,{children:["Level : ",Ce()]}),(0,c.jsx)(k,{children:ce?"GAMEOVER":he?"PAUSE":"Playing!"}),(0,c.jsx)(_,{isGameStart:re,onClick:function(){re?window.location.reload():oe(!0)},children:re?"Reset":"Game Start"})]}),(0,c.jsx)(p,{children:be.map((function(e,n){return e.map((function(e,t){return(0,c.jsx)(m,{num:e},"".concat(t,"-").concat(n))}))}))}),(0,c.jsxs)(f,{children:[(0,c.jsxs)(v,{children:[(0,c.jsx)(w,{children:"Next :"}),(0,c.jsx)(b,{children:E.map((function(e,n){return e.map((function(e,t){return(0,c.jsx)(m,{num:e},"".concat(t,"-").concat(n))}))}))})]}),(0,c.jsxs)(j,{children:[(0,c.jsx)(P,{onClick:function(){return Ne()},children:he?"[X] : Resume":"[X] : Pause"}),l.map((function(e,n){return e.map((function(e,t){return(0,c.jsx)(z,{onClick:function(){return function(e,n){if(!he&&re&&!ce)switch([n,e].toString()){case[0,1].toString():ye();break;case[1,1].toString():_e();break;case[1,2].toString():je();break;case[1,0].toString():Pe()}}(t,n)},c:e,src:""!==e?e:"images/arrow_back.svg"},"".concat(t,"-").concat(n))}))}))]})]})]})]})]})}},5301:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(2562)}])}},function(e){e.O(0,[133,774,888,179],(function(){return n=5301,e(e.s=n);var n}));var n=e.O();_N_E=n}]);