(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{2562:function(e,t,n){"use strict";n.r(t);var o=n(2809),r=n(7294),c=n(9163),i=n(5893);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=["aqua","yellow","purple","blue","orange","green"],u=c.ZP.div.withConfig({displayName:"pages__Container",componentId:"sc-eccczk-0"})(["display:flex;align-items:center;justify-content:center;height:100vh;background-color:#008080;"]),s=c.ZP.div.withConfig({displayName:"pages__Board",componentId:"sc-eccczk-1"})(["display:flex;flex-direction:row;align-items:flex-end;justify-content:space-around;width:80vh;height:96vh;background-color:#ccc;border:0.8vh solid;border-color:#ddd #666 #666 #ddd;"]),f=c.ZP.div.withConfig({displayName:"pages__GameBoard",componentId:"sc-eccczk-2"})(["width:42vh;height:82vh;margin-bottom:2vh;background-color:#888;border:1vh solid;border-color:#666 #ddd #ddd #666;"]),h=c.ZP.div.withConfig({displayName:"pages__StateBoard",componentId:"sc-eccczk-3"})(["width:30vh;height:90vh;margin-bottom:2vh;background-color:#aaa;border:1vh solid #666;"]),p=c.ZP.div.withConfig({displayName:"pages__TetrominoSquare",componentId:"sc-eccczk-4"})(["display:inline-block;width:4vh;height:4vh;vertical-align:bottom;background-color:",";border:0.05vh solid #999;"],(function(e){return 1<=e.num&&e.num<=6?d[e.num-1]:"#111"}));t.default=function(){var e=(0,r.useState)([[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0]]),t=e[0],n=(e[1],(0,r.useState)({left:1,top:1,block:[[0,1,0],[1,1,1]]})),o=n[0],c=n[1],a=(0,r.useState)(!1),d=a[0],g=a[1],b=(0,r.useState)(!1),v=b[0],m=b[1],k=(0,r.useMemo)((function(){for(var e=JSON.parse(JSON.stringify(t)),n=0;n<o.block.length;n++)for(var r=0;r<o.block[n].length;r++)e[n+o.top][r+o.left]=o.block[n][r];return e}),[v,d]),y=(0,r.useCallback)((function(e){console.log(111,e.key,o),"ArrowRight"===e.key&&o.left+o.block[0].length<10?(c(l(l({},o),{},{left:o.left+1})),g(!d)):"ArrowLeft"===e.key&&0<o.left&&(c(l(l({},o),{},{left:o.left-1})),g(!d))}),[d,v]);return(0,r.useEffect)((function(){return document.addEventListener("keydown",y,!1),function(){document.removeEventListener("keydown",y,!1)}}),[d,v]),(0,r.useEffect)((function(){console.log(222,o),o.top+o.block.length<20&&c(l(l({},o),{},{top:o.top+1})),console.log(333,o);var e=setInterval((function(){m(!v)}),500);return function(){clearInterval(e)}}),[v]),(0,i.jsx)(u,{children:(0,i.jsxs)(s,{children:[(0,i.jsx)(f,{children:k.map((function(e,t){return e.map((function(e,n){return(0,i.jsx)(p,{num:e},"".concat(n,"-").concat(t))}))}))}),(0,i.jsx)(h,{})]})})}},5301:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(2562)}])}},function(e){e.O(0,[163,774,888,179],(function(){return t=5301,e(e.s=t);var t}));var t=e.O();_N_E=t}]);