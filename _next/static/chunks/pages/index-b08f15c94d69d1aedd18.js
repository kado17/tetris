(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{2562:function(e,n,t){"use strict";t.r(n);var r=t(7294),o=t(9163),c=t(5893),i=["aqua","yellow","purple","blue","orange","green","red"],a=o.ZP.div.withConfig({displayName:"pages__Container",componentId:"sc-eccczk-0"})(["display:flex;align-items:center;justify-content:center;height:100vh;background-color:#008080;"]),u=o.ZP.div.withConfig({displayName:"pages__Board",componentId:"sc-eccczk-1"})(["display:flex;flex-direction:row;align-items:flex-end;justify-content:space-around;width:80vh;height:96vh;background-color:#ccc;border:0.8vh solid;border-color:#ddd #666 #666 #ddd;"]),d=o.ZP.div.withConfig({displayName:"pages__GameBoard",componentId:"sc-eccczk-2"})(["width:42vh;height:82vh;margin-bottom:2vh;background-color:#888;border:1vh solid;border-color:#666 #ddd #ddd #666;"]),s=o.ZP.div.withConfig({displayName:"pages__StateBoard",componentId:"sc-eccczk-3"})(["width:30vh;height:90vh;margin-bottom:2vh;background-color:#aaa;border:1vh solid #666;"]),l=o.ZP.div.withConfig({displayName:"pages__TetrominoSquare",componentId:"sc-eccczk-4"})(["display:inline-block;width:4vh;height:4vh;vertical-align:bottom;background-color:",";border:0.05vh solid #999;"],(function(e){return 1<=e.num&&e.num<=7?i[e.num-1]:9===e.num?"#777":"#111"}));n.default=function(){var e=[[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,9,9,9,9,9,9,9,9,9,9,9]],n=e[0].length,t=e.length,o=[[[0,0,0,0],[1,1,1,1],[0,0,0,0]],[[2,2],[2,2]],[[0,3,0],[3,3,3],[0,0,0]],[[4,0,0],[4,4,4],[0,0,0]],[[0,0,5],[5,5,5],[0,0,0]],[[0,0,5],[5,5,5],[0,0,0]],[[0,6,6],[6,6,0],[0,0,0]],[[7,7,0],[0,7,7],[0,0,0]]],i=function(){return o[Math.floor(Math.random()*o.length)]},f=(0,r.useState)(e),h=f[0],g=f[1],v=(0,r.useState)(i()),m=v[0],p=v[1],w=(0,r.useState)(1),_=w[0],b=w[1],k=(0,r.useState)(0),y=k[0],N=k[1],S=(0,r.useState)(!1),E=S[0],x=S[1],C=(0,r.useState)(!0),P=(C[0],C[1]),j=(0,r.useState)(0),I=j[0],O=j[1],z=function(){for(var e=JSON.parse(JSON.stringify(h)),n=0;n<m.length;n++)for(var t=0;t<m[n].length;t++)m[n][t]&&(e[n+y][t+_]=m[n][t]);return e},Z=function(e,r,o){var c=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(c&&t<y+o.length)return!1;if(n<e+o[0].length||e<0)return!1;for(var i=JSON.parse(JSON.stringify(h)),a=0;a<o.length;a++)for(var u=0;u<o[a].length;u++)if(o[a][u]>0&&i[a+r][u+e]>0)return!1;return!0},J=(0,r.useMemo)((function(){return z().slice(2,t).map((function(e){return e.filter((function(e){return 9!==e}))}))}),[_,y,m]),L=(0,r.useCallback)((function(e){switch(e.key){case"ArrowUp":console.log("UP");var n=(t=m)[0].map((function(e,n){return t.map((function(e){return e[n]})).reverse()}));console.log(n),Z(_,y,n,!0)&&(console.log("TRUE",n),p(n));break;case"ArrowRight":b((function(e){return Z(e+1,y,m)?e+1:e}));break;case"ArrowLeft":b((function(e){return Z(e-1,y,m)?e-1:e}))}var t}),[y]);return(0,r.useEffect)((function(){return document.addEventListener("keydown",L,!1),function(){document.removeEventListener("keydown",L,!1)}}),[y]),(0,r.useEffect)((function(){Z(_,y+1,m,!0)?(N(y+1),O(0)):(I>1&&(console.log("HELP"),O(0),g(z()),p(i),b(1),N(0),P(!0)),O((function(e){return e+1})));var e=setInterval((function(){x(!E)}),300);return function(){clearInterval(e)}}),[E]),(0,c.jsx)(a,{children:(0,c.jsxs)(u,{children:[(0,c.jsx)(d,{children:J.map((function(e,n){return e.map((function(e,t){return(0,c.jsx)(l,{num:e},"".concat(t,"-").concat(n))}))}))}),(0,c.jsx)(s,{})]})})}},5301:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(2562)}])}},function(e){e.O(0,[163,774,888,179],(function(){return n=5301,e(e.s=n);var n}));var n=e.O();_N_E=n}]);