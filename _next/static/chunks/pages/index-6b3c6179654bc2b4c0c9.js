(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{2562:function(e,n,t){"use strict";t.r(n);var r=t(2809),o=t(7294),c=t(9163),i=t(5893);function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var u=["aqua","yellow","purple","blue","orange","green","red"],s=c.ZP.div.withConfig({displayName:"pages__Container",componentId:"sc-eccczk-0"})(["display:flex;align-items:center;justify-content:center;height:100vh;background-color:#008080;"]),f=c.ZP.div.withConfig({displayName:"pages__Board",componentId:"sc-eccczk-1"})(["display:flex;flex-direction:row;align-items:flex-end;justify-content:space-around;width:80vh;height:96vh;background-color:#ccc;border:0.8vh solid;border-color:#ddd #666 #666 #ddd;"]),d=c.ZP.div.withConfig({displayName:"pages__GameBoard",componentId:"sc-eccczk-2"})(["width:42vh;height:82vh;margin-bottom:2vh;background-color:black;border:1vh solid;border-color:#666 #ddd #ddd #666;"]),g=c.ZP.div.withConfig({displayName:"pages__TetrominoSquare",componentId:"sc-eccczk-3"})(["display:inline-block;width:4vh;height:4vh;vertical-align:bottom;background-color:",";border:0.005vh solid #999;"],(function(e){return 1<=e.num&&e.num<=7?u[e.num-1]:9===e.num?"#777":"#111"})),h=c.ZP.div.withConfig({displayName:"pages__StateBoard",componentId:"sc-eccczk-4"})(["display:flex;align-items:center;justify-content:center;width:30vh;height:90vh;margin-bottom:2vh;background-color:#aaa;border:1vh solid #666;"]),b=c.ZP.div.withConfig({displayName:"pages__NextTetrominoView",componentId:"sc-eccczk-5"})(["display:inline-block;width:18vh;height:18vh;background-color:black;border:1vh solid black;"]);n.default=function(){var e=[[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,0,0,0,0,0,0,0,0,0,0,9],[9,9,9,9,9,9,9,9,9,9,9,9]],n=e[0].length,t=e.length,r=Array.from(new Array(4),(function(){return new Array(4).fill(0)})),c=[[[[0,0,0,0],[1,1,1,1]],[[0,1],[0,1],[0,1],[0,1]],[[0,0,0,0],[1,1,1,1]],[[0,1],[0,1],[0,1],[0,1]]],[[[0,2,2],[0,2,2]],[[0,2,2],[0,2,2]],[[0,2,2],[0,2,2]],[[0,2,2],[0,2,2]]],[[[0,3,0],[3,3,3],[0,0,0]],[[0,3,0],[0,3,3],[0,3,0]],[[0,0,0],[3,3,3],[0,3,0]],[[0,3,0],[3,3,0],[0,3,0]]],[[[4,0,0],[4,4,4],[0,0,0]],[[0,4,4],[0,4,0],[0,4,0]],[[0,0,0],[4,4,4],[0,0,4]],[[0,0,4],[0,0,4],[0,4,4]]],[[[0,0,5],[5,5,5],[0,0,0]],[[0,5,0],[0,5,0],[0,5,5]],[[0,0,0],[5,5,5],[5,0,0]],[[5,5,0],[0,5,0],[0,5,0]]],[[[0,6,6],[6,6,0],[0,0,0]],[[6,0,0],[6,6,0],[0,6,0]],[[0,6,6],[6,6,0],[0,0,0]],[[6,0,0],[6,6,0],[0,6,0]]],[[[7,7,0],[0,7,7],[0,0,0]],[[0,7,0],[7,7,0],[7,0,0]],[[7,7,0],[0,7,7],[0,0,0]],[[0,7,0],[7,7,0],[7,0,0]]]],a=function(){return{block:c[Math.floor(Math.random()*c.length)],angle:0}},u=(0,o.useState)(e),p=u[0],v=u[1],k=(0,o.useState)(r),m=k[0],w=k[1],y=(0,o.useState)(a()),O=y[0],_=y[1],j=(0,o.useState)(a()),S=j[0],N=j[1],P=(0,o.useState)(4),x=P[0],E=P[1],C=(0,o.useState)(1),A=C[0],Z=C[1],z=(0,o.useState)(!1),I=z[0],D=z[1],T=(0,o.useState)(0),J=T[0],M=T[1],B=(0,o.useState)(!0),L=B[0],q=B[1],G=(0,o.useState)(!1),R=G[0],V=G[1],X=(0,o.useState)(0),U=(X[0],X[1]),F=function(){for(var e=JSON.parse(JSON.stringify(p)),n=0;n<O.block[O.angle].length;n++)for(var t=0;t<O.block[O.angle][n].length;t++)O.block[O.angle][n][t]&&(e[n+A][t+x]=O.block[O.angle][n][t]);return e},H=(0,o.useMemo)((function(){return F().slice(4,t).map((function(e){return e.filter((function(e){return 9!==e}))}))}),[x,A,O]),K=(0,o.useCallback)((function(){for(var e=r,n=0;n<S.block[O.angle].length;n++)for(var t=0;t<S.block[O.angle][n].length;t++)e[n][t]=S.block[O.angle][n][t];w(e)}),[S]),Q=function(e,r,o){var c=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(c&&t<r+o.length)return!1;if(e<0||n<e+o[0].length)return!1;for(var i=JSON.parse(JSON.stringify(p)),a=0;a<o.length;a++)for(var l=0;l<o[a].length;l++)if(o[a][l]>0&&i[a+r][l+e]>0)return!1;return!0},W=(0,o.useCallback)((function(e){switch(e.key){case"ArrowUp":if(J>1)return;var n=(r=O.angle)<3?r+1:0;Q(x,A,O.block[n],!0)&&_(l(l({},O),{},{angle:n}));break;case"ArrowDown":for(var t=A;Q(x,t+1,O.block[O.angle],!0);)t++;Z(t),M(99);break;case"ArrowRight":E((function(e){return Q(e+1,A,O.block[O.angle])?e+1:e}));break;case"ArrowLeft":E((function(e){return Q(e-1,A,O.block[O.angle])?e-1:e}))}var r}),[O,x,A]);(0,o.useEffect)((function(){var e;if(L&&!R)return document.addEventListener("keydown",W,!1),Q(x,A,O.block[O.angle])||_(l(l({},O),{},{angle:(e=O.angle,0<e?e-1:3)})),function(){document.removeEventListener("keydown",W,!1)}}),[O,x,A,L,R]);return(0,o.useEffect)((function(){if(R)return console.log("GAMEOVER"),void console.log(p);L?(K(),Q(x,A+1,O.block[O.angle],!0)?(Z(A+1),M(0)):J>1?(M(0),q(!1)):M((function(e){return e+1})),setTimeout((function(){D(!I)}),300)):(!function(){for(var e=F(),n=[],t=0;t<e.length;t++)e[t].every((function(e){return e>0}))&&!e[t].every((function(e){return 9===e}))?(U((function(e){return e+1})),n.unshift([9,0,0,0,0,0,0,0,0,0,0,9])):n.push(e[t]);(!Q(4,1,S.block[0])||A<3)&&V(!0),v(n),_(S),E(4),Z(1),N(a())}(),q(!0),D(!I))}),[I]),(0,i.jsx)(s,{children:(0,i.jsxs)(f,{children:[(0,i.jsx)(d,{children:H.map((function(e,n){return e.map((function(e,t){return(0,i.jsx)(g,{num:e},"".concat(t,"-").concat(n))}))}))}),(0,i.jsx)(h,{children:(0,i.jsx)(b,{children:m.map((function(e,n){return e.map((function(e,t){return(0,i.jsx)(g,{num:e},"".concat(t,"-").concat(n))}))}))})})]})})}},5301:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(2562)}])}},function(e){e.O(0,[163,774,888,179],(function(){return n=5301,e(e.s=n);var n}));var n=e.O();_N_E=n}]);